<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>GeoAR.js demo</title>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
  <script>
    THREEx.ArToolkitContext.baseURL = "https://raw.githack.com/jeromeetienne/ar.js/master/three.js/";
  </script>
  <script type="text/javascript">
    // getting places from APIs
    // function loadPlaces(position) {
    //   const params = {
    //     radius: 300,    // search places not farther than this value (in meters)
    //     clientId: "<YOUR-CLIENT-ID>",
    //     clientSecret: "YOUR-CLIENT-SECRET",
    //     version: "20300101",    // foursquare versioning, required but unuseful for this demo
    //   };
    //
    //   // CORS Proxy to avoid CORS problems
    //   const corsProxy = "https://cors-anywhere.herokuapp.com/";
    //
    //   // Foursquare API (limit param: number of maximum places to fetch)
    //   const endpoint = `${corsProxy}https://api.foursquare.com/v2/venues/search?intent=checkin
    //     &ll=${position.latitude},${position.longitude}
    //     &radius=${params.radius}
    //     &client_id=${params.clientId}
    //     &client_secret=${params.clientSecret}
    //     &limit=30
    //     &v=${params.version}`;
    //   return fetch(endpoint)
    //     .then((res) => {
    //       return res.json()
    //         .then((resp) => {
    //           return resp.response.venues;
    //         });
    //     })
    //     .catch((err) => {
    //       console.error("Error with places API", err);
    //     });
    // };


    window.onload = () => {
      const scene = document.querySelector("a-scene");

      // first get current user location
      // return navigator.geolocation.getCurrentPosition(function(position) {
      //
      //   // than use it to load from remote APIs some places nearby
      //   // loadPlaces(position.coords)
      //   //   .then((places) => {
      //   const places = [
      //     { name: "만돈만리", location: { lat: 37.536416, lon: 127.228917 } },
      //     { name: "꿈동산신안아파트", location: { lat: 37.536985685732624, lon: 127.22583426477364 } },
      //     { name: "하남벤처센터", location: { lat: position.coords.latitude, lon: position.coords.longitude } },
      //   ];
      //
      //   places.forEach((place) => {
      //     const latitude = place.location.lat;
      //     const longitude = place.location.lng;
      //
      //     // add place name
      //     const placeText = document.createElement("a-link");
      //     placeText.setAttribute("gps-entity-place", `latitude: ${latitude}; longitude: ${longitude};`);
      //     placeText.setAttribute("title", place.name);
      //     placeText.setAttribute("scale", "15 15 15");
      //
      //     placeText.addEventListener("loaded", () => {
      //       window.dispatchEvent(new CustomEvent("gps-entity-place-loaded"));
      //     });
      //
      //     scene.appendChild(placeText);
      //   });
      //
      //   // });
      //   // },
      //   // (err) => console.error("Error in retrieving position", err),
      //   // {
      //   //   enableHighAccuracy: true,
      //   //   maximumAge: 0,
      //   //   timeout: 27000,
      //   // },
      // });
    };
  </script>
</head>

<body style="margin: 0; overflow: hidden;">
<a-scene
  vr-mode-ui="enabled: false"
  embedded
  arjs="sourceType: webcam; debugUIEnabled: false;">
  <a-camera gps-camera rotation-reader></a-camera>
<!--  <a-box material="color: yellow" gps-entity-place="latitude: 37.536985685732624; longitude: 127.22583426477364" scale="50 50 50"/>-->
  <a-link gps-entity-place="latitude: 37.536985685732624; longitude: 127.22583426477364" scale="50 50 50"></a-link>
  <a-link gps-entity-place="latitude: 37.53631687261534; longitude: 127.22892793750509" scale="50 50 50"></a-link>
<!--  <a-link href="index.html" title="My Homepage"></a-link>-->
</a-scene>
</body>
